{% extends 'base.html.twig' %}

{% block title %}Change password{% endblock %}




{% block body %}


    <div  class="row wrapper fadeInDown">
        <div class="col-lg-6 col-sm-12" id="formContent">

            <!-- Tabs Titles -->

            <!-- Icon -->
            <div class="fadeIn first">
                <svg   id="icon"class="c-icon">

                <use xlink:href="{{asset('assets/coreui/icons/sprites/flag.svg')}}#full"></use>
                </svg>
            </div>
            <div class="card-header">
                <h1>Change password</h1>
            </div>
                
                
            {% for flashError in app.flashes('change_password_error') %}
                <div class="alert alert-danger" role="alert">{{ flashError }}</div>
            {% endfor %}
            {#            {% if error %}#}
            {#                <div class="alert alert-danger">{{ error.messageKey|trans(error.messageData, 'security') }}</div>#}
            {#            {% endif %} #}
            <!-- Reset Form --> 

            {{ form_start(resetForm) }}



            <div class="card-body">

                <div class="form-group">
                    <div class="input-group">
                        {#                        <input class="form-control" type="email" value="{{ last_username }}" name="email" id="inputEmail" class="form-control" autocomplete="email" required autofocus>#} 
                        <div class="input-group-append"><span class="input-group-text">
                                <svg class="c-icon">
                                <use xlink:href="{{ asset('assets/coreui/icons/sprites/free.svg')}}#cil-envelope-open"></use>
                                </svg></span></div>

                        {{ form_row(resetForm.plainPassword.first , {'attr':{ 'class':'form-control'} }) }} 
                        {#                        {{ form_widget(resetForm.plainPassword , {'attr':{'value':'', 'class':'form-control'} }) }} #}


                    </div>
                </div>

                <div class="form-group">
                    <div class="input-group">
                        {#                        <input class="form-control" type="email" value="{{ last_username }}" name="email" id="inputEmail" class="form-control" autocomplete="email" required autofocus>#} 
                        <div class="input-group-append"><span class="input-group-text">
                                <svg class="c-icon">
                                <use xlink:href="{{ asset('assets/coreui/icons/sprites/free.svg')}}#cil-envelope-open"></use>
                                </svg></span></div>


                        {{ form_row(resetForm.plainPassword.second , {'attr':{ 'class':'form-control'} }) }} 
                        {# {{ form_row(resetForm.password.second) }}
 
                         {{ form_widget(resetForm.plainPassword , {'attr':{ 'class':'form-control'} }) }} 
 #}
                        {#                        {{ form_row(resetForm.email , {'attr':{'value':'', 'class':'form-control'} }) }} #}
                        
                    </div>
                </div>
                        
                        

                {#
                    Uncomment this section and add a remember_me option below your firewall to activate remember me functionality.
                    See https://symfony.com/doc/current/security/remember_me.html
            
                    <div class="checkbox mb-3">
                        <label>
                            <input type="checkbox" name="_remember_me"> Remember me
                        </label>
                    </div>
                #} 
                <div class="my-custom-class-for-errors">
                    {{ form_errors(resetForm) }}
                </div>

                <div class="form-group form-actions">
                    <button class="btn btn-block btn-primary" type="submit">Change</button>
                </div> 
            </div>  

            {{ form_end(resetForm) }}

        </div>
    </div>



{% endblock %}
